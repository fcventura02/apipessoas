{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\filip\\\\OneDrive\\\\Documentos\\\\EstudoNode\\\\apipessoas\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\filip\\\\OneDrive\\\\Documentos\\\\EstudoNode\\\\apipessoas\\\\src\\\\pages\\\\main\\\\index.js\";\nimport React, { Component } from 'react';\nimport api from '../../services/api';\nimport TableRow from './tableRow';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.css';\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      person: [],\n      personInfo: {},\n      page: 1\n    };\n\n    this.loadPerson = async (page = 1) => {\n      await api.get(\"/list?page=\".concat(page)).then(response => {\n        const _response$data = response.data,\n              docs = _response$data.docs,\n              personInfo = _objectWithoutProperties(_response$data, [\"docs\"]);\n\n        this.setState({\n          person: docs,\n          personInfo,\n          page\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.prevPage = () => {\n      const page = this.state.page;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadPerson(pageNumber);\n    };\n\n    this.nextPage = () => {\n      const _this$state = this.state,\n            page = _this$state.page,\n            personInfo = _this$state.personInfo;\n      if (page === personInfo.pages) return;\n      const pageNumber = page + 1;\n      this.loadPerson(pageNumber);\n    };\n  }\n\n  componentDidMount() {\n    this.loadPerson();\n  }\n\n  tabRow() {\n    return this.state.person.map(function (object, i) {\n      return React.createElement(TableRow, {\n        obj: object,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          page = _this$state2.page,\n          personInfo = _this$state2.personInfo,\n          person = _this$state2.person;\n    console.log(person);\n\n    if (personInfo != null) {\n      return React.createElement(\"div\", {\n        className: \"person-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Lista de Pessoas\"), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Pessoa\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Cpf\"), React.createElement(\"th\", {\n        colSpan: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"A\\xE7\\xE3o\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.tabRow())), React.createElement(\"div\", {\n        className: \"actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: page === 1,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Anterior\"), React.createElement(\"button\", {\n        disabled: page === personInfo.pages,\n        onClick: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Pr\\xF3ximo\")));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Lista vazia, v\\xE1 em create e adicione uma nova pessoa.\"));\n    }\n  }\n\n}\n;","map":{"version":3,"sources":["C:\\Users\\filip\\OneDrive\\Documentos\\EstudoNode\\apipessoas\\src\\pages\\main\\index.js"],"names":["React","Component","api","TableRow","Main","state","person","personInfo","page","loadPerson","get","then","response","data","docs","setState","catch","error","console","log","prevPage","pageNumber","nextPage","pages","componentDidMount","tabRow","map","object","i","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport api from '../../services/api';\r\nimport TableRow from './tableRow';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './style.css'\r\nexport default class Main extends Component {\r\n    state = {\r\n        person: [],\r\n        personInfo:{},\r\n        page: 1,\r\n    };\r\n    componentDidMount() {\r\n        this.loadPerson();\r\n    };\r\n\r\n    loadPerson = async (page = 1) => {\r\n        await api.get(`/list?page=${page}`)\r\n            .then((response) =>{\r\n                const {docs, ...personInfo} = response.data\r\n                this.setState({ \r\n                    person: docs,\r\n                    personInfo,\r\n                    page\r\n                })\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    tabRow(){\r\n        return this.state.person.map(function(object, i){\r\n            return <TableRow obj={object} key={i}/>;\r\n        })\r\n    }\r\n\r\n\r\n    prevPage = ()=>{\r\n        const{page}=this.state;\r\n        if(page === 1) return;\r\n        const pageNumber = page - 1;\r\n        this.loadPerson(pageNumber);\r\n    }\r\n    nextPage = ()=>{\r\n        const{page,personInfo}=this.state;\r\n        if(page === personInfo.pages) return;\r\n        const pageNumber = page + 1;\r\n        this.loadPerson(pageNumber);\r\n    }\r\n    \r\n\r\n    render() {\r\n        const {page, personInfo, person}=this.state;\r\n        console.log(person)\r\n        if (personInfo != null) {\r\n            return(\r\n            <div className=\"person-list\">\r\n            <h3 align=\"center\">Lista de Pessoas</h3>\r\n            <table className = \"table table-striped\" style={{ marginTop: 20 }}>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Pessoa</th>\r\n                        <th>Cpf</th>\r\n                        <th colSpan=\"2\">Ação</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.tabRow()}\r\n                </tbody>\r\n            </table>\r\n\r\n            <div className=\"actions\">\r\n                <button disabled={page === 1} onClick={this.prevPage}>Anterior</button>\r\n                <button disabled={page=== personInfo.pages} onClick={this.nextPage}>Próximo</button>\r\n            </div>\r\n         </div>\r\n            );\r\n        } else {\r\n            return(\r\n            <div>\r\n                <h2>\r\n                    Lista vazia, vá em create e adicione uma nova pessoa.\r\n                </h2>\r\n            </div>\r\n            )\r\n            \r\n        }\r\n           \r\n\r\n\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}