{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\filip\\\\OneDrive\\\\Documentos\\\\EstudoNode\\\\apipessoas\\\\apiReact\\\\src\\\\pages\\\\main\\\\search.js\";\nimport React, { Component } from 'react';\nimport api from '../../services/api';\nexport class Search extends Component {\n  constructor(props) {\n    console.log(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"alerta\",\n      className: \"alerta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"negado\",\n      className: \"ion-ios-close-outline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      id: \"confirmado\",\n      className: \"ion-checkmark-round\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"alert-nome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"alert-cpf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"editar\",\n      className: \"editar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Editar\"), React.createElement(\"button\", {\n      id: \"delete\",\n      className: \"excluir\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Excluir\"), React.createElement(\"button\", {\n      onClick: this.close,\n      id: \"fechar\",\n      className: \"fechar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Fechar\")), React.createElement(\"form\", {\n      id: \"search-people\",\n      className: \"header_search_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"q\",\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Pesquisar Cpf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.inputPesquisa,\n      className: \"ion-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })));\n  }\n\n}\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\filip\\OneDrive\\Documentos\\EstudoNode\\apipessoas\\apiReact\\src\\pages\\main\\search.js"],"names":["React","Component","api","Search","constructor","props","console","log","render","close","inputPesquisa"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,OAAO,MAAMC,MAAN,SAAqBF,SAArB,CAA+B;AAClCG,EAAAA,WAAW,CAAEC,KAAF,EAAQ;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACC;;AA4DDG,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,QAAR;AAAiB,MAAA,SAAS,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,EAAE,EAAC,QAAT;AAAkB,MAAA,SAAS,EAAC,uBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,EAAE,EAAC,YAAT;AAAsB,MAAA,SAAS,EAAC,qBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAG,MAAA,EAAE,EAAC,YAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAG,MAAA,EAAE,EAAC,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,SAAS,EAAC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMI;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,SAAS,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANJ,EAOI;AAAQ,MAAA,OAAO,EAAE,KAAKC,KAAtB;AAA6B,MAAA,EAAE,EAAC,QAAhC;AAAyC,MAAA,SAAS,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,CADJ,EAWI;AAAM,MAAA,EAAE,EAAC,eAAT;AAAyB,MAAA,SAAS,EAAC,qBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,IAAI,EAAC,QAArB;AAA8B,MAAA,SAAS,EAAC,cAAxC;AAAuD,MAAA,WAAW,EAAC,eAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAQ,MAAA,OAAO,EAAE,KAAKC,aAAtB;AAAqC,MAAA,SAAS,EAAC,YAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAXJ,CADJ;AAkBH;;AAlFiC;AAqFtC,eAAeP,MAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport api from '../../services/api';\r\n\r\nexport class Search extends Component {\r\n    constructor (props){\r\n    console.log(props)\r\n    }\r\n    inputPesquisa = async (e) => {\r\n        e.preventDefault();\r\n        const form = e.target.parentNode\r\n        const formData = new FormData(form);\r\n        function tiradata(d) {\r\n            return d.data.docs.filter((object) => {\r\n                return parseInt(formData.get('q')) === object.person_cpf\r\n            });\r\n        }\r\n        let page = 1;\r\n        let result = [];\r\n\r\n        for (page; page <= this.state.personInfo.pages; page++) {\r\n            result = result.concat(await api.get(`/list?page=${page}`).then((response) => {\r\n                return tiradata(response)\r\n            }))\r\n        }\r\n        if (result.length !== 0) {\r\n\r\n            this.alerta(result);\r\n            // window.location.href= `/show/${result[0]._id}`           \r\n        } else {\r\n            this.alerta(false)\r\n        }\r\n    }\r\n\r\n    alerta = (result) => {\r\n        if (result) {\r\n            document.getElementById(\"alerta\").style.display = 'block';\r\n            document.getElementById(\"confirmado\").style.display = 'block';\r\n            document.getElementById(\"alert-nome\").innerHTML = `Pessoa: ${result[0].person_name}`;\r\n            document.getElementById(\"alert-cpf\").innerHTML = `Cpf: ${result[0].person_cpf}`;\r\n            document.getElementById(\"editar\").onclick = function (e) {\r\n                e.preventDefault();\r\n                window.location.href = `/edit/${result[0]._id}`\r\n            };\r\n            document.getElementById(\"delete\").onclick = function (e) {\r\n                e.preventDefault();\r\n                api.delete(`http://localhost:3001/api/del/${result[0]._id}`)\r\n                    .then(alert(\"Deletado\"))\r\n                    .catch(err => console.log(err));\r\n            }\r\n        } else {\r\n            document.getElementById(\"alerta\").style.display = 'block';\r\n            document.getElementById(\"negado\").style.display = 'block';\r\n            document.getElementById(\"delete\").style.display = 'none';\r\n            document.getElementById(\"editar\").style.display = 'none';\r\n            document.getElementById(\"alert-nome\").innerHTML = `Cpf nÃ£o encontrado`;\r\n            document.getElementById(\"alert-cpf\").innerHTML = ``;\r\n\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        document.getElementById(\"alerta\").style.display = 'none';\r\n        document.getElementById(\"confirmado\").style.display = 'none';\r\n        document.getElementById(\"negado\").style.display = 'none';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id='alerta' className='alerta'>\r\n                    <span id='negado' className='ion-ios-close-outline'></span>\r\n                    <span id='confirmado' className='ion-checkmark-round'></span>\r\n                    <p id='alert-nome'></p>\r\n                    <p id='alert-cpf'></p>\r\n                    <button id='editar' className='editar' >Editar</button>\r\n                    <button id='delete' className='excluir' >Excluir</button>\r\n                    <button onClick={this.close} id='fechar' className='fechar' >Fechar</button>\r\n\r\n                </div>\r\n                <form id=\"search-people\" className=\"header_search_input\">\r\n                    <input name=\"q\" type=\"number\" className=\"form-control\" placeholder=\"Pesquisar Cpf\" />\r\n                    <button onClick={this.inputPesquisa} className=\"ion-search\" ></button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search\r\n"]},"metadata":{},"sourceType":"module"}