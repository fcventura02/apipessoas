{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\filip\\\\OneDrive\\\\Documentos\\\\EstudoNode\\\\apipessoas\\\\apiReact\\\\src\\\\pages\\\\main\\\\index.js\";\nimport React, { Component } from 'react';\nimport api from '../../services/api';\nimport TableRow from './tableRow';\nimport Search from './search';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.css';\nexport default class Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      person: [],\n      personInfo: {},\n      page: 1\n    };\n\n    this.loadPerson = async (page = 1) => {\n      /* await api.get(`/list?page=${page}`)\r\n           .then((response) => {\r\n               const { docs, ...personInfo } = response.data\r\n               this.setState({\r\n                   person: docs,\r\n                   personInfo,\r\n                   page\r\n               })\r\n           })\r\n           .catch(function (error) {\r\n               console.log(error);\r\n           });*/\n    };\n\n    this.prevPage = () => {\n      const page = this.state.page;\n      if (page === 1) return;\n      const pageNumber = page - 1;\n      this.loadPerson(pageNumber);\n    };\n\n    this.nextPage = () => {\n      const _this$state = this.state,\n            page = _this$state.page,\n            personInfo = _this$state.personInfo;\n      if (page === personInfo.pages) return;\n      const pageNumber = page + 1;\n      this.loadPerson(pageNumber);\n    };\n\n    this.BdVazio = () => {\n      const total = this.state.personInfo.total;\n\n      if (total === 0) {\n        return React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"Seu banco de dados est\\xE1 vazio, por favor v\\xE1 em create e alimente seu Banco de dados. Ele esta com fome!\");\n      }\n\n      if (this.state.personInfo.total === undefined) return React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \" Banco de dados n\\xE3o esta conectado!\");\n    };\n  }\n\n  componentDidMount() {\n    this.loadPerson();\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          page = _this$state2.page,\n          personInfo = _this$state2.personInfo;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bd-vazio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.BdVazio()), React.createElement(\"div\", {\n      className: \"person-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Lista de Pessoas\"), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Search, {\n      obj: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"table\", {\n      className: \"table table-striped\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Pessoa\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Cpf\"), React.createElement(\"th\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"A\\xE7\\xE3o\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.person.map((object, i) => {\n      return React.createElement(TableRow, {\n        obj: object,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      });\n    })))), React.createElement(\"div\", {\n      className: \"actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: page === 1,\n      onClick: this.prevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Anterior\"), React.createElement(\"button\", {\n      disabled: page === personInfo.pages,\n      onClick: this.nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Pr\\xF3ximo\"))));\n  }\n\n}\n;","map":{"version":3,"sources":["C:\\Users\\filip\\OneDrive\\Documentos\\EstudoNode\\apipessoas\\apiReact\\src\\pages\\main\\index.js"],"names":["React","Component","api","TableRow","Search","Main","state","person","personInfo","page","loadPerson","prevPage","pageNumber","nextPage","pages","BdVazio","total","undefined","componentDidMount","render","marginTop","map","object","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport api from '../../services/api';\r\nimport TableRow from './tableRow';\r\nimport Search from './search'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './style.css'\r\nexport default class Main extends Component {\r\n    state = {\r\n        person: [],\r\n        personInfo: {},\r\n        page: 1,\r\n    };\r\n    componentDidMount() {\r\n        this.loadPerson();\r\n    };\r\n\r\n    loadPerson = async (page = 1) => {\r\n        /* await api.get(`/list?page=${page}`)\r\n             .then((response) => {\r\n                 const { docs, ...personInfo } = response.data\r\n                 this.setState({\r\n                     person: docs,\r\n                     personInfo,\r\n                     page\r\n                 })\r\n             })\r\n             .catch(function (error) {\r\n                 console.log(error);\r\n             });*/\r\n    };\r\n\r\n    prevPage = () => {\r\n        const { page } = this.state;\r\n        if (page === 1) return;\r\n        const pageNumber = page - 1;\r\n        this.loadPerson(pageNumber);\r\n    }\r\n    nextPage = () => {\r\n        const { page, personInfo } = this.state;\r\n        if (page === personInfo.pages) return;\r\n        const pageNumber = page + 1;\r\n        this.loadPerson(pageNumber);\r\n    }\r\n\r\n\r\n\r\n\r\n    BdVazio = () => {\r\n        const total = this.state.personInfo.total;\r\n        if (total === 0) {\r\n            return (<h5>\r\n                Seu banco de dados está vazio, por favor vá em create e alimente seu\r\n                Banco de dados. Ele esta com fome!\r\n                </h5>)\r\n        }\r\n        if (this.state.personInfo.total === undefined)\r\n            return (<h5> Banco de dados não esta conectado!</h5>)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { page, personInfo } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"bd-vazio\">\r\n                    {this.BdVazio()}\r\n                </div>\r\n\r\n                <div className=\"person-list\">\r\n\r\n                    <h3 align=\"center\">Lista de Pessoas</h3>\r\n\r\n                    <React.Fragment>\r\n                        <Search obj={this.state} />\r\n                    </React.Fragment>\r\n\r\n\r\n\r\n                    <table className=\"table table-striped\" style={{ marginTop: 20 }}>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Pessoa</th>\r\n                                <th>Cpf</th>\r\n                                <th colSpan=\"2\">Ação</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <React.Fragment>\r\n                                {\r\n                                    this.state.person.map((object, i) => {\r\n                                        return <TableRow obj={object} key={i} />;\r\n                                    })\r\n                                }\r\n                            </React.Fragment>\r\n\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"actions\">\r\n                        <button disabled={page === 1} onClick={this.prevPage}>Anterior</button>\r\n                        <button disabled={page === personInfo.pages} onClick={this.nextPage}>Próximo</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}